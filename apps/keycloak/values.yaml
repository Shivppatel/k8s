keycloak:
  global:
    imageRegistry: "docker.io"
    security:
      allowInsecureImages: true
  image:
    repository: bitnamilegacy/keycloak
    tag: 26.3.3-debian-12-r0
  auth:
    existingSecret: "keycloak-admin-credentials"
    passwordSecretKey: "admin-password"
  replicaCount: 3

  production: true
  proxyHeaders: xforwarded
  httpRelativePath: /
  extraEnvVars:
    - name: KC_HOSTNAME
      value: "keycloak.shivpatel.xyz"
    - name: KC_HOSTNAME_STRICT
      value: "false"
    - name: KC_HTTP_ENABLED
      value: "true"
    - name: KC_DB_POOL_INITIAL_SIZE
      value: "5"
    - name: KC_DB_POOL_MIN_SIZE
      value: "5"
    - name: KC_DB_POOL_MAX_SIZE
      value: "10"
  externalDatabase:
    host: postgresql-rw.postgresql.svc.cluster.local
    port: 5432
    database: keycloak
    existingSecret: "keycloak-db-secret"
    existingSecretUserKey: "username"
    existingSecretPasswordKey: "password"
  postgresql:
    enabled: false
  metrics:
    enabled: true
    serviceMonitor:
      enabled: true
